<html>

<head>
  <title>Sign-up</title>
  <link rel="stylesheet" href="sign-in.css" />
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

  <header role="banner">
    <nav class="navbar navbar-expand-lg  bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand " href="/">SIMULATOR</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample05" aria-controls="navbarsExample05" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarsExample05">
          <ul class="navbar-nav pl-md-5 mr-auto">
            <li class="nav-item">
              <a class="nav-link active" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#about">About</a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="#contact">Contact</a>
            </li>
           <li class="nav-item">
              <a class="nav-link" href="signIn">Login</a>
            </li>
               <li class="nav-item">
              <a class="nav-link" href="signUp">Register</a>
            </li>
          </ul>
          
        </div>
      </div>
    </nav>
  </header>

  <div class="login-page">
    <div class="form">
      <form class="register-form">
        <input type="text" placeholder="username" id="username" required />
        <input type="password" placeholder="password" id="password" required />
        <input type="text" placeholder="email address" id="email" required />
      </form>
      <button id="but">create</button>
      <p class="message" id="test">Already registered? <a href="signIn">Sign In</a></p>
    </div>
  </div>
  <script>
    var but = document.getElementById("but");
    console.log(but)
    but.onclick = () => {
      var username = document.getElementById("username").value;
      var password = document.getElementById("password").value;
      var email = document.getElementById("email").value;
      url = "http://localhost:3000/signUp";
      data = { 'username': username, 'password': password, 'email': email ,'cash': 500000 };
      params = {
        method: 'post',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      }
      fetch(url, params).then((response) => {
        return response.text();
      }).then((data) => {
        if (data) {
          console.log(data);
          document.getElementById("test").innerHTML = "Successfully signed up <a href='/signIn'>Sign In</a>";
        }
        else {
          window.alert("BC PHIR Problem");
        }
      })
    };
  </script>
</body>

</html>